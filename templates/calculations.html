{% extends "base.html" %}
{% block title %}Cálculos Físicos{% endblock %}

{% block head %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
<script src="{{ url_for('static', filename='js/physics_calcs.js') }}"></script>
<style>
.calculation-card {
    margin-bottom: 2rem;
}
.canvas-container {
    width: 100%;
    height: 300px;
    margin: 1rem 0;
}
.form-group {
    margin-bottom: 1rem;
}
.result-display {
    font-size: 1.2rem;
    margin-top: 1rem;
    padding: 1rem;
    background-color: var(--card-bg);
    border-radius: 0.5rem;
}
</style>
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h2 class="mb-4">Cálculos Físicos Interativos</h2>
    </div>

    <!-- Simple Pendulum -->
    <div class="col-md-6 calculation-card">
        <div class="card">
            <div class="card-body">
                <h3 class="card-title">Pêndulo Simples</h3>
                <div id="pendulum-canvas" class="canvas-container"></div>
                <form id="pendulum-form">
                    <div class="form-group">
                        <label for="length">Comprimento (m):</label>
                        <input type="number" id="length" class="form-control" value="1" min="0.1" max="10" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="angle">Ângulo Inicial (graus):</label>
                        <input type="number" id="angle" class="form-control" value="30" min="0" max="90" step="1">
                    </div>
                    <button type="button" class="btn btn-primary" onclick="updatePendulum()">Calcular</button>
                </form>
                <div id="pendulum-result" class="result-display">
                    Período: <span id="period">2.01</span> segundos
                </div>
            </div>
        </div>
    </div>

    <!-- Projectile Motion -->
    <div class="col-md-6 calculation-card">
        <div class="card">
            <div class="card-body">
                <h3 class="card-title">Movimento Projetil</h3>
                <div id="projectile-canvas" class="canvas-container"></div>
                <form id="projectile-form">
                    <div class="form-group">
                        <label for="velocity">Velocidade Inicial (m/s):</label>
                        <input type="number" id="velocity" class="form-control" value="10" min="1" max="50" step="1">
                    </div>
                    <div class="form-group">
                        <label for="launch-angle">Ângulo de Lançamento (graus):</label>
                        <input type="number" id="launch-angle" class="form-control" value="45" min="0" max="90" step="1">
                    </div>
                    <button type="button" class="btn btn-primary" onclick="updateProjectile()">Simular</button>
                </form>
                <div id="projectile-result" class="result-display">
                    Alcance: <span id="range">10.0</span> m<br>
                    Altura Máxima: <span id="max-height">2.5</span> m
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
